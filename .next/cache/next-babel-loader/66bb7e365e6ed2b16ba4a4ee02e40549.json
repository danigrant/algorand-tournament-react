{"ast":null,"code":"const firebase = require('firebase');\n\nconst app = firebase.initializeApp({\n  apiKey: process.env.FIREBASE_API_KEY,\n  authDomain: \"algorand-tournament.firebaseapp.com\",\n  databaseURL: \"https://algorand-tournament.firebaseio.com\",\n  projectId: \"algorand-tournament\",\n  storageBucket: \"algorand-tournament.appspot.com\",\n  messagingSenderId: \"283477236370\",\n  appId: \"1:283477236370:web:c7558718f40fabd7cf244b\"\n});\nconst db = firebase.firestore();\nconst competitionsRef = db.collection('competitions');\n\nasync function saveSolutionToDB() {} // let snapshot = await usersRef.where('email', '==', email).get()\n\n\nasync function getCompetitions() {\n  let snapshot = await competitionsRef.orderBy('number').get();\n  let data = [];\n  await snapshot.forEach(doc => {\n    let docData = doc.data();\n    data.push({\n      \"number\": docData.number,\n      \"algorandEscrowAddress\": docData.algorandEscrowAddress,\n      \"isSolved\": docData.isSolved,\n      \"solverName\": docData.solverName ? docData.solverName : undefined,\n      \"solution\": docData.solution ? docData.solution : {},\n      \"solveDate\": docData.solveDate ? docData.solveDate : undefined\n    });\n  });\n  return data;\n}\n\nmodule.exports = {\n  getCompetitions\n};","map":{"version":3,"sources":["/Users/danigrant/Projects/algorand-react/utils/firebase.js"],"names":["firebase","require","app","initializeApp","apiKey","process","env","FIREBASE_API_KEY","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","db","firestore","competitionsRef","collection","saveSolutionToDB","getCompetitions","snapshot","orderBy","get","data","forEach","doc","docData","push","number","algorandEscrowAddress","isSolved","solverName","undefined","solution","solveDate","module","exports"],"mappings":"AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AAEA,MAAMC,GAAG,GAAGF,QAAQ,CAACG,aAAT,CAAuB;AACjCC,EAAAA,MAAM,EAAEC,OAAO,CAACC,GAAR,CAAYC,gBADa;AAEjCC,EAAAA,UAAU,EAAE,qCAFqB;AAGjCC,EAAAA,WAAW,EAAE,4CAHoB;AAIjCC,EAAAA,SAAS,EAAE,qBAJsB;AAKjCC,EAAAA,aAAa,EAAE,iCALkB;AAMjCC,EAAAA,iBAAiB,EAAE,cANc;AAOjCC,EAAAA,KAAK,EAAE;AAP0B,CAAvB,CAAZ;AAUA,MAAMC,EAAE,GAAGd,QAAQ,CAACe,SAAT,EAAX;AACA,MAAMC,eAAe,GAAGF,EAAE,CAACG,UAAH,CAAc,cAAd,CAAxB;;AAEA,eAAeC,gBAAf,GAAkC,CAIjC,C,CAED;;;AAEA,eAAeC,eAAf,GAAiC;AAC/B,MAAIC,QAAQ,GAAG,MAAMJ,eAAe,CAACK,OAAhB,CAAwB,QAAxB,EAAkCC,GAAlC,EAArB;AACA,MAAIC,IAAI,GAAG,EAAX;AACA,QAAMH,QAAQ,CAACI,OAAT,CAAiBC,GAAG,IAAI;AAC5B,QAAIC,OAAO,GAAGD,GAAG,CAACF,IAAJ,EAAd;AACAA,IAAAA,IAAI,CAACI,IAAL,CAAU;AACR,gBAAUD,OAAO,CAACE,MADV;AAEV,+BAAyBF,OAAO,CAACG,qBAFvB;AAGV,kBAAYH,OAAO,CAACI,QAHV;AAIR,oBAAcJ,OAAO,CAACK,UAAR,GAAqBL,OAAO,CAACK,UAA7B,GAA0CC,SAJhD;AAKR,kBAAYN,OAAO,CAACO,QAAR,GAAmBP,OAAO,CAACO,QAA3B,GAAsC,EAL1C;AAMR,mBAAaP,OAAO,CAACQ,SAAR,GAAoBR,OAAO,CAACQ,SAA5B,GAAwCF;AAN7C,KAAV;AAQD,GAVK,CAAN;AAWA,SAAOT,IAAP;AACD;;AAEDY,MAAM,CAACC,OAAP,GAAiB;AAAEjB,EAAAA;AAAF,CAAjB","sourcesContent":["const firebase = require('firebase')\n\nconst app = firebase.initializeApp({\n  apiKey: process.env.FIREBASE_API_KEY,\n  authDomain: \"algorand-tournament.firebaseapp.com\",\n  databaseURL: \"https://algorand-tournament.firebaseio.com\",\n  projectId: \"algorand-tournament\",\n  storageBucket: \"algorand-tournament.appspot.com\",\n  messagingSenderId: \"283477236370\",\n  appId: \"1:283477236370:web:c7558718f40fabd7cf244b\"\n})\n\nconst db = firebase.firestore();\nconst competitionsRef = db.collection('competitions');\n\nasync function saveSolutionToDB() {\n\n\n\n}\n\n// let snapshot = await usersRef.where('email', '==', email).get()\n\nasync function getCompetitions() {\n  let snapshot = await competitionsRef.orderBy('number').get()\n  let data = []\n  await snapshot.forEach(doc => {\n    let docData = doc.data()\n    data.push({\n      \"number\": docData.number,\n  \t\t\"algorandEscrowAddress\": docData.algorandEscrowAddress,\n  \t\t\"isSolved\": docData.isSolved,\n      \"solverName\": docData.solverName ? docData.solverName : undefined,\n      \"solution\": docData.solution ? docData.solution : {},\n      \"solveDate\": docData.solveDate ? docData.solveDate : undefined\n    })\n  })\n  return data\n}\n\nmodule.exports = { getCompetitions }\n"]},"metadata":{},"sourceType":"script"}